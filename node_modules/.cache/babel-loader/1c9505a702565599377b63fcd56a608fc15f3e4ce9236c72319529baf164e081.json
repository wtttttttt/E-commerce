{"ast":null,"code":"//对axios进行二次封装\nimport axios from \"axios\";\n//引入进度条\nimport nprogress from \"nprogress\";\n//start是进度条开始，done是进度条结束\n//利用axios对象的方法create创建一个axios实例\n//request就是axios,只不过稍微配置一下进行封装\nconst request = axios.create({\n  //配置对象\n  //用于在发请求时路径中自动加上api\n  baseURL: \"/api\",\n  //请求超时的事件为5s\n  timeout: 5000\n});\n//请求拦截器：在发请求之前，请求之前可以检测到，在发出去之前处理一些事情\n\nrequest.interceptors.request.use(config => {\n  //config:配置对象，里面的headers请求头属性很重要\n  //进度条开始动\n  nprogress.start();\n  return config;\n});\n//响应拦截器：\nrequest.interceptors.response.use(res => {\n  //成功的回调函数（箭头函数），服务器数据回来后，响应拦截器可以检测到，并处理一些事\n  //进度条结束\n  nprogress.done();\n  return res.data;\n}, error => {\n  //响应失败的回调函数\n  return Promise.reject(new Error('fail'));\n});\n\n//对外暴露\nexport default request;","map":{"version":3,"names":["axios","nprogress","request","create","baseURL","timeout","interceptors","use","config","start","response","res","done","data","error","Promise","reject","Error"],"sources":["D:/VueProject/app/src/api/request.js"],"sourcesContent":["//对axios进行二次封装\r\nimport axios from \"axios\"\r\n//引入进度条\r\nimport nprogress from \"nprogress\";\r\n//start是进度条开始，done是进度条结束\r\n//利用axios对象的方法create创建一个axios实例\r\n//request就是axios,只不过稍微配置一下进行封装\r\nconst request = axios.create({\r\n    //配置对象\r\n    //用于在发请求时路径中自动加上api\r\n    baseURL:\"/api\",\r\n    //请求超时的事件为5s\r\n    timeout:5000\r\n});\r\n//请求拦截器：在发请求之前，请求之前可以检测到，在发出去之前处理一些事情\r\n\r\nrequest.interceptors.request.use((config)=>{\r\n    //config:配置对象，里面的headers请求头属性很重要\r\n    //进度条开始动\r\n    nprogress.start()\r\n    return config;\r\n})\r\n//响应拦截器：\r\nrequest.interceptors.response.use((res)=>{\r\n    //成功的回调函数（箭头函数），服务器数据回来后，响应拦截器可以检测到，并处理一些事\r\n    //进度条结束\r\n    nprogress.done()\r\n    return res.data;\r\n},(error)=>{\r\n    //响应失败的回调函数\r\n    return Promise.reject(new Error('fail'))\r\n})\r\n\r\n//对外暴露\r\nexport default request"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB;AACA,OAAOC,SAAS,MAAM,WAAW;AACjC;AACA;AACA;AACA,MAAMC,OAAO,GAAGF,KAAK,CAACG,MAAM,CAAC;EACzB;EACA;EACAC,OAAO,EAAC,MAAM;EACd;EACAC,OAAO,EAAC;AACZ,CAAC,CAAC;AACF;;AAEAH,OAAO,CAACI,YAAY,CAACJ,OAAO,CAACK,GAAG,CAAEC,MAAM,IAAG;EACvC;EACA;EACAP,SAAS,CAACQ,KAAK,CAAC,CAAC;EACjB,OAAOD,MAAM;AACjB,CAAC,CAAC;AACF;AACAN,OAAO,CAACI,YAAY,CAACI,QAAQ,CAACH,GAAG,CAAEI,GAAG,IAAG;EACrC;EACA;EACAV,SAAS,CAACW,IAAI,CAAC,CAAC;EAChB,OAAOD,GAAG,CAACE,IAAI;AACnB,CAAC,EAAEC,KAAK,IAAG;EACP;EACA,OAAOC,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,MAAM,CAAC,CAAC;AAC5C,CAAC,CAAC;;AAEF;AACA,eAAef,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}